Page TC_Settings
    Attributes
        ID               : 0
        Scope            : local
        Send Component ID: disabled
        Width            : 800
        Locked           : no
        Fill             : solid color
        Back. Color      : 65535
    
    Events
        Preinitialize Event
            // Display username
            if(User_Settings.userNum.val==0)
            {
                tUser.txt=" "+User_Settings.u0Name.txt
            }else if(User_Settings.userNum.val==1)
            {
                tUser.txt=" "+User_Settings.u1Name.txt
            }else if(User_Settings.userNum.val==2)
            {
                tUser.txt=" "+User_Settings.u2Name.txt
            }
            //
            // This page should only be accessible for user 2.
            // Power on default for all MIDI channel assignments and active coils is 1 (all assigned and active).
            //
            // Load global variable values into local variables. Note: Since a component consists of many different properties (like font size, color, position, ...) its memory footprint is much larger and it should not be global.
            // Since min offtime and max MIDI voices are not used elsewhere in the GUI they are packed into the same variable, where minOff occupies the lower 16 bit, and voices the uppe 16 bit.
            if(maxCoilCount.val>=1)
            {
                nCoil1On.val=coil1On.val
                nCoil1MinOff.val=coil1OffVoices.val&0x0000ffff
                nCoil1Voices.val=coil1OffVoices.val&0xffff0000
                nCoil1Voices.val=nCoil1Voices.val>>16
                nCoil1Duty.val=coil1Duty.val
            }
            if(maxCoilCount.val>=2)
            {
                nCoil2On.val=coil2On.val
                nCoil2MinOff.val=coil2OffVoices.val&0x0000ffff
                nCoil2Voices.val=coil2OffVoices.val&0xffff0000
                nCoil2Voices.val=nCoil2Voices.val>>16
                nCoil2Duty.val=coil2Duty.val
            }
            if(maxCoilCount.val>=3)
            {
                nCoil3On.val=coil3On.val
                nCoil3MinOff.val=coil3OffVoices.val&0x0000ffff
                nCoil3Voices.val=coil3OffVoices.val&0xffff0000
                nCoil3Voices.val=nCoil3Voices.val>>16
                nCoil3Duty.val=coil3Duty.val
            }
            if(maxCoilCount.val>=4)
            {
                nCoil4On.val=coil4On.val
                nCoil4MinOff.val=coil4OffVoices.val&0x0000ffff
                nCoil4Voices.val=coil4OffVoices.val&0xffff0000
                nCoil4Voices.val=nCoil4Voices.val>>16
                nCoil4Duty.val=coil4Duty.val
            }
            if(maxCoilCount.val>=5)
            {
                nCoil5On.val=coil5On.val
                nCoil5MinOff.val=coil5OffVoices.val&0x0000ffff
                nCoil5Voices.val=coil5OffVoices.val&0xffff0000
                nCoil5Voices.val=nCoil5Voices.val>>16
                nCoil5Duty.val=coil5Duty.val
            }
            if(maxCoilCount.val>=6)
            {
                nCoil6On.val=coil6On.val
                nCoil6MinOff.val=coil6OffVoices.val&0x0000ffff
                nCoil6Voices.val=coil6OffVoices.val&0xffff0000
                nCoil6Voices.val=nCoil6Voices.val>>16
                nCoil6Duty.val=coil6Duty.val
            }
            // Idle field is just used for default text/background color and as target for the numpad if no component is selected. Ergo should be hidden like functions.
            vis idle,0
            vis fCheck,0
            newValTargetId.val=idle.id
            //
            // Hide settings of coils that don't exist.
            if(maxCoilCount.val<6)
            {
                vis tCoil6,0
                vis nCoil6On,0
                vis nCoil6MinOff,0
                vis nCoil6Duty,0
                vis nCoil6Voices,0
            }
            if(maxCoilCount.val<5)
            {
                vis tCoil5,0
                vis nCoil5On,0
                vis nCoil5MinOff,0
                vis nCoil5Duty,0
                vis nCoil5Voices,0
            }
            if(maxCoilCount.val<4)
            {
                vis tCoil4,0
                vis nCoil4On,0
                vis nCoil4MinOff,0
                vis nCoil4Duty,0
                vis nCoil4Voices,0
            }
            if(maxCoilCount.val<3)
            {
                vis tCoil3,0
                vis nCoil3On,0
                vis nCoil3MinOff,0
                vis nCoil3Duty,0
                vis nCoil3Voices,0
            }
            if(maxCoilCount.val<2)
            {
                vis tCoil2,0
                vis nCoil2On,0
                vis nCoil2MinOff,0
                vis nCoil2Duty,0
                vis nCoil2Voices,0
            }
            if(maxCoilCount.val<1)
            {
                vis tCoil1,0
                vis nCoil1On,0
                vis nCoil1MinOff,0
                vis nCoil1Duty,0
                vis nCoil1Voices,0
                vis tMaxOn,0
                vis tMinOff,0
                vis tMaxDuty,0
                vis tSelToMod,0
                vis b0,0
                vis b1,0
                vis b2,0
                vis b3,0
                vis b4,0
                vis b5,0
                vis b6,0
                vis b7,0
                vis b8,0
                vis b9,0
                vis bClear,0
                vis bOK,0
            }
        
        Postinitialize Event
            if(maxCoilCount.val>0)
            {
                // Table grid
                // Determine Table height (a.k.a up to where the lines shall be drawn
                sys2=maxCoilCount.val
                sys2*=31
                sys2+=110
                // Vertical grid lines
                line 130,90,130,sys2,idle.pco
                line 290,90,290,sys2,idle.pco
                line 445,90,445,sys2,idle.pco
                line 585,90,585,sys2,idle.pco
                // Horizontal grid lines
                sys1=116
                for(sys0=0;sys0<6;sys0++)
                {
                    if(sys1<sys2)
                    {
                        line 15,sys1,730,sys1,tCoil1.pco
                    }
                    sys1+=31
                }
            }
        
Variable (int32) coil1Chn
    Attributes
        ID    : 4
        Scope : global
        Locked: no
        Value : 3208642559
    
Variable (int32) coil2Chn
    Attributes
        ID    : 5
        Scope : global
        Locked: no
        Value : 3208642559
    
Variable (int32) coil3Chn
    Attributes
        ID    : 6
        Scope : global
        Locked: no
        Value : 3208642559
    
Variable (int32) coil4Chn
    Attributes
        ID    : 7
        Scope : global
        Locked: no
        Value : 3208642559
    
Variable (int32) coil5Chn
    Attributes
        ID    : 8
        Scope : global
        Locked: no
        Value : 3208642559
    
Variable (int32) coil6Chn
    Attributes
        ID    : 9
        Scope : global
        Locked: no
        Value : 3208642559
    
Variable (int32) activeCoils
    Attributes
        ID    : 10
        Scope : global
        Locked: no
        Value : 63
    
Variable (int32) maxCoilCount
    Attributes
        ID    : 21
        Scope : global
        Locked: no
        Value : 6
    
Variable (int32) newValTargetId
    Attributes
        ID    : 52
        Scope : local
        Locked: no
        Value : 68
    
Variable (int32) newSelect
    Attributes
        ID    : 53
        Scope : local
        Locked: no
        Value : 0
    
Variable (int32) coil1On
    Attributes
        ID    : 55
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil1OffVoices
    Attributes
        ID    : 56
        Scope : global
        Locked: no
        Value : 786432
    
Variable (int32) coil1Duty
    Attributes
        ID    : 57
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil2On
    Attributes
        ID    : 58
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil2OffVoices
    Attributes
        ID    : 59
        Scope : global
        Locked: no
        Value : 786432
    
Variable (int32) coil2Duty
    Attributes
        ID    : 60
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil3On
    Attributes
        ID    : 61
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil3OffVoices
    Attributes
        ID    : 62
        Scope : global
        Locked: no
        Value : 786432
    
Variable (int32) coil3Duty
    Attributes
        ID    : 63
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil4On
    Attributes
        ID    : 64
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil4OffVoices
    Attributes
        ID    : 65
        Scope : global
        Locked: no
        Value : 786432
    
Variable (int32) coil4Duty
    Attributes
        ID    : 66
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil5On
    Attributes
        ID    : 67
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil5OffVoices
    Attributes
        ID    : 68
        Scope : global
        Locked: no
        Value : 786432
    
Variable (int32) coil5Duty
    Attributes
        ID    : 69
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil6On
    Attributes
        ID    : 70
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) coil6OffVoices
    Attributes
        ID    : 71
        Scope : global
        Locked: no
        Value : 786432
    
Variable (int32) coil6Duty
    Attributes
        ID    : 72
        Scope : global
        Locked: no
        Value : 0
    
Variable (int32) maxVoices
    Attributes
        ID    : 81
        Scope : global
        Locked: no
        Value : 10
    
Number nCoil1On
    Attributes
        ID                      : 12
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 140
        y coordinate            : 119
        Width                   : 140
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 301
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil1On.bco=idle.pco
            nCoil1On.pco=idle.bco
            newValTargetId.val=nCoil1On.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil1MinOff
    Attributes
        ID                      : 22
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 300
        y coordinate            : 119
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 101
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil1MinOff.bco=idle.pco
            nCoil1MinOff.pco=idle.bco
            newValTargetId.val=nCoil1MinOff.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil2On
    Attributes
        ID                      : 24
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 140
        y coordinate            : 150
        Width                   : 140
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 302
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil2On.bco=idle.pco
            nCoil2On.pco=idle.bco
            newValTargetId.val=nCoil2On.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil2MinOff
    Attributes
        ID                      : 25
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 300
        y coordinate            : 150
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 102
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil2MinOff.bco=idle.pco
            nCoil2MinOff.pco=idle.bco
            newValTargetId.val=nCoil2MinOff.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil3On
    Attributes
        ID                      : 27
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 140
        y coordinate            : 181
        Width                   : 140
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 303
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil3On.bco=idle.pco
            nCoil3On.pco=idle.bco
            newValTargetId.val=nCoil3On.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil3MinOff
    Attributes
        ID                      : 28
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 300
        y coordinate            : 181
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 103
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil3MinOff.bco=idle.pco
            nCoil3MinOff.pco=idle.bco
            newValTargetId.val=nCoil3MinOff.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil4On
    Attributes
        ID                      : 30
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 140
        y coordinate            : 212
        Width                   : 140
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 304
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil4On.bco=idle.pco
            nCoil4On.pco=idle.bco
            newValTargetId.val=nCoil4On.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil4MinOff
    Attributes
        ID                      : 31
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 300
        y coordinate            : 212
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 104
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil4MinOff.bco=idle.pco
            nCoil4MinOff.pco=idle.bco
            newValTargetId.val=nCoil4MinOff.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil5On
    Attributes
        ID                      : 33
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 140
        y coordinate            : 243
        Width                   : 140
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 305
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil5On.bco=idle.pco
            nCoil5On.pco=idle.bco
            newValTargetId.val=nCoil5On.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil5MinOff
    Attributes
        ID                      : 34
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 300
        y coordinate            : 243
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 105
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil5MinOff.bco=idle.pco
            nCoil5MinOff.pco=idle.bco
            newValTargetId.val=nCoil5MinOff.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil6On
    Attributes
        ID                      : 36
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 140
        y coordinate            : 274
        Width                   : 140
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 306
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil6On.bco=idle.pco
            nCoil6On.pco=idle.bco
            newValTargetId.val=nCoil6On.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil6MinOff
    Attributes
        ID                      : 37
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 300
        y coordinate            : 274
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 106
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil6MinOff.bco=idle.pco
            nCoil6MinOff.pco=idle.bco
            newValTargetId.val=nCoil6MinOff.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil1Voices
    Attributes
        ID                      : 75
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 595
        y coordinate            : 119
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 1
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil1Voices.bco=idle.pco
            nCoil1Voices.pco=idle.bco
            newValTargetId.val=nCoil1Voices.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil2Voices
    Attributes
        ID                      : 76
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 595
        y coordinate            : 150
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 2
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil2Voices.bco=idle.pco
            nCoil2Voices.pco=idle.bco
            newValTargetId.val=nCoil2Voices.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil3Voices
    Attributes
        ID                      : 77
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 595
        y coordinate            : 181
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 3
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil3Voices.bco=idle.pco
            nCoil3Voices.pco=idle.bco
            newValTargetId.val=nCoil3Voices.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil4Voices
    Attributes
        ID                      : 78
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 595
        y coordinate            : 212
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 4
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil4Voices.bco=idle.pco
            nCoil4Voices.pco=idle.bco
            newValTargetId.val=nCoil4Voices.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil5Voices
    Attributes
        ID                      : 79
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 595
        y coordinate            : 243
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 5
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil5Voices.bco=idle.pco
            nCoil5Voices.pco=idle.bco
            newValTargetId.val=nCoil5Voices.id
            // A new value has been selected
            newSelect.val=1
        
Number nCoil6Voices
    Attributes
        ID                      : 80
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 595
        y coordinate            : 274
        Width                   : 135
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 6
        Significant digits shown: all
        Format                  : decimal
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil6Voices.bco=idle.pco
            nCoil6Voices.pco=idle.bco
            newValTargetId.val=nCoil6Voices.id
            // A new value has been selected
            newSelect.val=1
        
XFloat nCoil1Duty
    Attributes
        ID                      : 23
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 455
        y coordinate            : 119
        Width                   : 120
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 101
        Significant digits left : 0
        Significant digits right: 1
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil1Duty.bco=idle.pco
            nCoil1Duty.pco=idle.bco
            newValTargetId.val=nCoil1Duty.id
            // A new value has been selected
            newSelect.val=1
        
XFloat nCoil2Duty
    Attributes
        ID                      : 26
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 455
        y coordinate            : 150
        Width                   : 120
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 102
        Significant digits left : 0
        Significant digits right: 1
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil2Duty.bco=idle.pco
            nCoil2Duty.pco=idle.bco
            newValTargetId.val=nCoil2Duty.id
            // A new value has been selected
            newSelect.val=1
        
XFloat nCoil3Duty
    Attributes
        ID                      : 29
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 455
        y coordinate            : 181
        Width                   : 120
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 103
        Significant digits left : 0
        Significant digits right: 1
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil3Duty.bco=idle.pco
            nCoil3Duty.pco=idle.bco
            newValTargetId.val=nCoil3Duty.id
            // A new value has been selected
            newSelect.val=1
        
XFloat nCoil4Duty
    Attributes
        ID                      : 32
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 455
        y coordinate            : 212
        Width                   : 120
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 104
        Significant digits left : 0
        Significant digits right: 1
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil4Duty.bco=idle.pco
            nCoil4Duty.pco=idle.bco
            newValTargetId.val=nCoil4Duty.id
            // A new value has been selected
            newSelect.val=1
        
XFloat nCoil5Duty
    Attributes
        ID                      : 35
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 455
        y coordinate            : 243
        Width                   : 120
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 105
        Significant digits left : 0
        Significant digits right: 1
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil5Duty.bco=idle.pco
            nCoil5Duty.pco=idle.bco
            newValTargetId.val=nCoil5Duty.id
            // A new value has been selected
            newSelect.val=1
        
XFloat nCoil6Duty
    Attributes
        ID                      : 38
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 455
        y coordinate            : 274
        Width                   : 120
        Height                  : 26
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 106
        Significant digits left : 0
        Significant digits right: 1
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
    Events
        Touch Press Event
            // Check if values are legal
            click fCheck,0
            // Reset push state of last selected value
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            // Mark this field as pushed
            nCoil6Duty.bco=idle.pco
            nCoil6Duty.pco=idle.bco
            newValTargetId.val=nCoil6Duty.id
            // A new value has been selected
            newSelect.val=1
        
XFloat idle
    Attributes
        ID                      : 51
        Scope                   : local
        Send Component ID       : disabled
        x coordinate            : 770
        y coordinate            : 0
        Width                   : 30
        Height                  : 15
        Locked                  : no
        Fill                    : solid color
        Style                   : flat
        Associated Keyboard     : none
        Font ID                 : 2
        Back. Color             : 65535
        Font Color              : 6900
        Horizontal Alignment    : right
        Vertical Alignment      : center
        Value                   : 0
        Significant digits left : 0
        Significant digits right: 0
        Word wrap               : enabled
        Horizontal Spacing      : 0
        Vertical Spacing        : 0
    
Text tTitle
    Attributes
        ID                  : 1
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 10
        Width               : 770
        Height              : 64
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 1
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : bottom
        Input Type          : character
        Text                : Limits of all Tesla Coils
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tUser
    Attributes
        ID                  : 3
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 0
        y coordinate        : 460
        Width               : 800
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 4589
        Font Color          : 65535
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                :  Guest
        Max. Text Size      : 32
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tCoil1
    Attributes
        ID                  : 11
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 121
        Width               : 105
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                : Tesla Coil 1:
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tMaxOn
    Attributes
        ID                  : 13
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 140
        y coordinate        : 90
        Width               : 140
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: right
        Vertical Alignment  : center
        Input Type          : character
        Text                : max. Ontime [µs]
        Max. Text Size      : 16
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tMinOff
    Attributes
        ID                  : 14
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 300
        y coordinate        : 90
        Width               : 135
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: right
        Vertical Alignment  : center
        Input Type          : character
        Text                : min. Offtime [µs]
        Max. Text Size      : 17
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tMaxDuty
    Attributes
        ID                  : 15
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 455
        y coordinate        : 90
        Width               : 120
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: right
        Vertical Alignment  : center
        Input Type          : character
        Text                : max. Duty [%]
        Max. Text Size      : 16
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tCoil2
    Attributes
        ID                  : 16
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 152
        Width               : 105
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                : Tesla Coil 2:
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tCoil3
    Attributes
        ID                  : 17
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 183
        Width               : 105
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                : Tesla Coil 3:
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tCoil4
    Attributes
        ID                  : 18
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 214
        Width               : 105
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                : Tesla Coil 4:
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tCoil5
    Attributes
        ID                  : 19
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 245
        Width               : 105
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                : Tesla Coil 5:
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tCoil6
    Attributes
        ID                  : 20
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 276
        Width               : 105
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : center
        Input Type          : character
        Text                : Tesla Coil 6:
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text tSelToMod
    Attributes
        ID                  : 54
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 15
        y coordinate        : 322
        Width               : 430
        Height              : 40
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 0
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: left
        Vertical Alignment  : bottom
        Input Type          : character
        Text                : Select any value to modify.
        Max. Text Size      : 30
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Text fCheck
    Attributes
        ID                  : 73
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 724
        y coordinate        : 0
        Width               : 40
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: center
        Vertical Alignment  : center
        Input Type          : character
        Text                :  
        Max. Text Size      : 10
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
    Events
        Touch Release Event
            // Settings must stay in certain ranges. this function checks and fixes them.
            // Code order: check all coil 1 settings, then repeat for coils 2-6.
            //
            sys0=nCoil1On.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            // Floor ontime to multiple of 10
            nCoil1On.val=sys0*10
            //
            sys0=nCoil1MinOff.val+9
            sys0/=10
            if(sys0>127)
            {
                sys0=127
            }
            // Ceil min offtime to multiple of 10
            nCoil1MinOff.val=sys0*10
            //
            if(nCoil1Duty.val>511)
            {
                nCoil1Duty.val=511
            }
            //
            if(nCoil1Voices.val==0)
            {
                nCoil1Voices.val=1
            }
            if(nCoil1Voices.val>maxVoices.val)
            {
                nCoil1Voices.val=maxVoices.val
            }
            //
            //
            sys0=nCoil2On.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            // Floor ontime to multiple of 10
            nCoil2On.val=sys0*10
            //
            sys0=nCoil2MinOff.val+9
            sys0/=10
            if(sys0>127)
            {
                sys0=127
            }
            // Ceil min offtime to multiple of 10
            nCoil2MinOff.val=sys0*10
            //
            if(nCoil2Duty.val>511)
            {
                nCoil2Duty.val=511
            }
            //
            if(nCoil2Voices.val==0)
            {
                nCoil2Voices.val=1
            }
            if(nCoil2Voices.val>maxVoices.val)
            {
                nCoil2Voices.val=maxVoices.val
            }
            //
            //
            sys0=nCoil3On.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            // Floor ontime to multiple of 10
            nCoil3On.val=sys0*10
            //
            sys0=nCoil3MinOff.val+9
            sys0/=10
            if(sys0>127)
            {
                sys0=127
            }
            // Ceil min offtime to multiple of 10
            nCoil3MinOff.val=sys0*10
            //
            if(nCoil3Duty.val>511)
            {
                nCoil3Duty.val=511
            }
            //
            if(nCoil3Voices.val==0)
            {
                nCoil3Voices.val=1
            }
            if(nCoil3Voices.val>maxVoices.val)
            {
                nCoil3Voices.val=maxVoices.val
            }
            //
            //
            sys0=nCoil4On.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            // Floor ontime to multiple of 10
            nCoil4On.val=sys0*10
            //
            sys0=nCoil4MinOff.val+9
            sys0/=10
            if(sys0>127)
            {
                sys0=127
            }
            // Ceil min offtime to multiple of 10
            nCoil4MinOff.val=sys0*10
            //
            if(nCoil4Duty.val>511)
            {
                nCoil4Duty.val=511
            }
            //
            if(nCoil4Voices.val==0)
            {
                nCoil4Voices.val=1
            }
            if(nCoil4Voices.val>maxVoices.val)
            {
                nCoil4Voices.val=maxVoices.val
            }
            //
            //
            sys0=nCoil5On.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            // Floor ontime to multiple of 10
            nCoil5On.val=sys0*10
            //
            sys0=nCoil5MinOff.val+9
            sys0/=10
            if(sys0>127)
            {
                sys0=127
            }
            // Ceil min offtime to multiple of 10
            nCoil5MinOff.val=sys0*10
            //
            if(nCoil5Duty.val>511)
            {
                nCoil5Duty.val=511
            }
            //
            if(nCoil5Voices.val==0)
            {
                nCoil5Voices.val=1
            }
            if(nCoil5Voices.val>maxVoices.val)
            {
                nCoil5Voices.val=maxVoices.val
            }
            //
            //
            sys0=nCoil6On.val/10
            if(sys0>4095)
            {
                // Ontime / 10 must be smaller than 4096 (12 bits)
                sys0=4095
            }
            // Floor ontime to multiple of 10
            nCoil6On.val=sys0*10
            //
            sys0=nCoil6MinOff.val+9
            sys0/=10
            if(sys0>127)
            {
                sys0=127
            }
            // Ceil min offtime to multiple of 10
            nCoil6MinOff.val=sys0*10
            //
            if(nCoil6Duty.val>511)
            {
                nCoil6Duty.val=511
            }
            //
            if(nCoil6Voices.val==0)
            {
                nCoil6Voices.val=1
            }
            if(nCoil6Voices.val>maxVoices.val)
            {
                nCoil6Voices.val=maxVoices.val
            }
            //
            //
        
Text tMaxVoices
    Attributes
        ID                  : 74
        Scope               : local
        Send Component ID   : disabled
        x coordinate        : 595
        y coordinate        : 90
        Width               : 135
        Height              : 20
        Locked              : no
        Fill                : solid color
        Style               : flat
        Associated Keyboard : none
        Font ID             : 2
        Back. Color         : 65535
        Font Color          : 6900
        Horizontal Alignment: right
        Vertical Alignment  : center
        Input Type          : character
        Text                : max. MIDI Voices
        Max. Text Size      : 16
        Word wrap           : disabled
        Horizontal Spacing  : 0
        Vertical Spacing    : 0
    
Button bReturn
    Attributes
        ID                               : 2
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 15
        y coordinate                     : 406
        Width                            : 156
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 7
        Back. Picture ID (Pressed)       : 8
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : Return
        Max. Text Size                   : 10
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Press Event
            click bOK,0
            // Store local component values in global variables. Note: Since a component consists of many different properties (like font size, color, position, ...) its memory footprint is much larger and it should not be global.
            // Since min offtime and max MIDI voices are not used elsewhere in the GUI they are packed into the same variable, where minOff occupies the lower 16 bit, and voices the uppe 16 bit.
            // Set user 2 limits to max Coil limits.
            //   sys0 = max ontime of all coils
            //   sys1 = max duty of all coils
            sys0=0
            sys1=0
            if(maxCoilCount.val>=1)
            {
                coil1On.val=nCoil1On.val
                coil1OffVoices.val=nCoil1Voices.val<<16
                coil1OffVoices.val+=nCoil1MinOff.val
                coil1Duty.val=nCoil1Duty.val
                if(coil1On.val>sys0)
                {
                    sys0=coil1On.val
                }
                if(coil1Duty.val>sys1)
                {
                    sys1=coil1Duty.val
                }
            }
            if(maxCoilCount.val>=2)
            {
                coil2On.val=nCoil2On.val
                coil2OffVoices.val=nCoil2Voices.val<<16
                coil2OffVoices.val+=nCoil2MinOff.val
                coil2Duty.val=nCoil2Duty.val
                if(coil2On.val>sys0)
                {
                    sys0=coil2On.val
                }
                if(coil2Duty.val>sys1)
                {
                    sys1=coil2Duty.val
                }
            }
            if(maxCoilCount.val>=3)
            {
                coil3On.val=nCoil3On.val
                coil3OffVoices.val=nCoil3Voices.val<<16
                coil3OffVoices.val+=nCoil3MinOff.val
                coil3Duty.val=nCoil3Duty.val
                if(coil3On.val>sys0)
                {
                    sys0=coil3On.val
                }
                if(coil3Duty.val>sys1)
                {
                    sys1=coil3Duty.val
                }
            }
            if(maxCoilCount.val>=4)
            {
                coil4On.val=nCoil4On.val
                coil4OffVoices.val=nCoil4Voices.val<<16
                coil4OffVoices.val+=nCoil4MinOff.val
                coil4Duty.val=nCoil4Duty.val
                if(coil4On.val>sys0)
                {
                    sys0=coil4On.val
                }
                if(coil4Duty.val>sys1)
                {
                    sys1=coil4Duty.val
                }
            }
            if(maxCoilCount.val>=5)
            {
                coil5On.val=nCoil5On.val
                coil5OffVoices.val=nCoil5Voices.val<<16
                coil5OffVoices.val+=nCoil5MinOff.val
                coil5Duty.val=nCoil5Duty.val
                if(coil5On.val>sys0)
                {
                    sys0=coil5On.val
                }
                if(coil5Duty.val>sys1)
                {
                    sys1=coil5Duty.val
                }
            }
            if(maxCoilCount.val>=6)
            {
                coil6On.val=nCoil6On.val
                coil6OffVoices.val=nCoil6Voices.val<<16
                coil6OffVoices.val+=nCoil6MinOff.val
                coil6Duty.val=nCoil6Duty.val
                if(coil6On.val>sys0)
                {
                    sys0=coil6On.val
                }
                if(coil6Duty.val>sys1)
                {
                    sys1=coil6Duty.val
                }
            }
            User_Settings.u2Ontime.val=sys0
            User_Settings.u2Duty.val=sys1
            // Serial Data format: 'd', Data Byte 1, 2, 3, 4, 5
            // Data byte 1:
            //    Bit 6-7: 1 = Coil settings.
            //    Bit 0-5:Tesla Coil whose limits are being set (1, 2, 3, 4, 5 or 6)
            // Data byte 2-5: Bit field with settings
            //    Bit  0-11: Maximum allowed ontime [10us]
            //    Bit 12-15: Maximum number of simultaneous voices in MIDI playback minus one.
            //    Bit 16-22: Minimum offtime after each ontime [10us]
            //    Bit 23-31: Maximum allowed duty [1/1000]
            //
            // sys0 will contain the bit field (a.k.a. the data bytes 2-5)
            // sys1 is used as temp variable
            // sys2 is data byte 1
            if(maxCoilCount.val>=1)
            {
                sys0=coil1On.val/10
                sys1=coil1OffVoices.val&0xffff0000
                sys1=sys1>>16
                sys1-=1
                sys1=sys1<<12
                sys0+=sys1
                sys1=coil1OffVoices.val&0x0000ffff
                sys1/=10
                sys1=sys1<<16
                sys0+=sys1
                sys1=coil1Duty.val<<23
                sys0+=sys1
                sys2=1<<6
                sys2+=1
                prints "d",1
                prints sys2,1
                prints sys0,4
            }
            if(maxCoilCount.val>=2)
            {
                sys0=coil2On.val/10
                sys1=coil2OffVoices.val&0xffff0000
                sys1=sys1>>16
                sys1-=1
                sys1=sys1<<12
                sys0+=sys1
                sys1=coil2OffVoices.val&0x0000ffff
                sys1/=10
                sys1=sys1<<16
                sys0+=sys1
                sys1=coil2Duty.val<<23
                sys0+=sys1
                sys2=1<<6
                sys2+=2
                prints "d",1
                prints sys2,1
                prints sys0,4
            }
            if(maxCoilCount.val>=3)
            {
                sys0=coil3On.val/10
                sys1=coil3OffVoices.val&0xffff0000
                sys1=sys1>>16
                sys1-=1
                sys1=sys1<<12
                sys0+=sys1
                sys1=coil3OffVoices.val&0x0000ffff
                sys1/=10
                sys1=sys1<<16
                sys0+=sys1
                sys1=coil3Duty.val<<23
                sys0+=sys1
                prints "d",1
                sys2=1<<6
                sys2+=3
                prints sys2,1
                prints sys0,4
            }
            if(maxCoilCount.val>=4)
            {
                sys0=coil4On.val/10
                sys1=coil4OffVoices.val&0xffff0000
                sys1=sys1>>16
                sys1-=1
                sys1=sys1<<12
                sys0+=sys1
                sys1=coil4OffVoices.val&0x0000ffff
                sys1/=10
                sys1=sys1<<16
                sys0+=sys1
                sys1=coil4Duty.val<<23
                sys0+=sys1
                sys2=1<<6
                sys2+=4
                prints "d",1
                prints sys2,1
                prints sys0,4
            }
            if(maxCoilCount.val>=5)
            {
                sys0=coil5On.val/10
                sys1=coil5OffVoices.val&0xffff0000
                sys1=sys1>>16
                sys1-=1
                sys1=sys1<<12
                sys0+=sys1
                sys1=coil5OffVoices.val&0x0000ffff
                sys1/=10
                sys1=sys1<<16
                sys0+=sys1
                sys1=coil5Duty.val<<23
                sys0+=sys1
                sys2=1<<6
                sys2+=5
                prints "d",1
                prints sys2,1
                prints sys0,4
            }
            if(maxCoilCount.val>=6)
            {
                sys0=coil6On.val/10
                sys1=coil6OffVoices.val&0xffff0000
                sys1=sys1>>16
                sys1-=1
                sys1=sys1<<12
                sys0+=sys1
                sys1=coil6OffVoices.val&0x0000ffff
                sys1/=10
                sys1=sys1<<16
                sys0+=sys1
                sys1=coil6Duty.val<<23
                sys0+=sys1
                sys2=1<<6
                sys2+=6
                prints "d",1
                prints sys2,1
                prints sys0,4
            }
        
        Touch Release Event
            page Settings
        
Button b0
    Attributes
        ID                               : 39
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 629
        y coordinate                     : 377
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 0
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
        
Button b1
    Attributes
        ID                               : 40
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 464
        y coordinate                     : 322
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 1
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=1
        
Button b2
    Attributes
        ID                               : 41
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 519
        y coordinate                     : 322
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 2
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=2
        
Button b3
    Attributes
        ID                               : 42
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 574
        y coordinate                     : 322
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 3
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=3
        
Button b4
    Attributes
        ID                               : 43
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 629
        y coordinate                     : 322
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 4
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=4
        
Button b5
    Attributes
        ID                               : 44
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 684
        y coordinate                     : 322
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 5
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=5
        
Button b6
    Attributes
        ID                               : 45
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 739
        y coordinate                     : 322
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 6
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=6
        
Button b7
    Attributes
        ID                               : 46
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 464
        y coordinate                     : 377
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 7
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=7
        
Button b8
    Attributes
        ID                               : 47
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 519
        y coordinate                     : 377
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 8
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=8
        
Button b9
    Attributes
        ID                               : 48
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 574
        y coordinate                     : 377
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : 9
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            if(newSelect.val!=0)
            {
                newSelect.val=0
                b[newValTargetId.val].val=0
            }else
            {
                b[newValTargetId.val].val*=10
            }
            b[newValTargetId.val].val+=9
        
Button bClear
    Attributes
        ID                               : 49
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 684
        y coordinate                     : 377
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : X
        Max. Text Size                   : 1
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            b[newValTargetId.val].val=0
        
Button bOK
    Attributes
        ID                               : 50
        Scope                            : local
        Send Component ID                : disabled
        x coordinate                     : 739
        y coordinate                     : 377
        Width                            : 45
        Height                           : 45
        Locked                           : no
        Fill                             : image
        Font ID                          : 0
        Background Picture ID (Unpressed): 1
        Back. Picture ID (Pressed)       : 2
        Horizontal Alignment             : center
        Vertical Alignment               : center
        State                            : unpressed
        Text                             : ok
        Max. Text Size                   : 2
        Word wrap                        : disabled
        Horizontal Spacing               : 0
        Vertical Spacing                 : 0
    
    Events
        Touch Release Event
            b[newValTargetId.val].bco=idle.bco
            b[newValTargetId.val].pco=idle.pco
            newValTargetId.val=idle.id
            click fCheck,0
        
